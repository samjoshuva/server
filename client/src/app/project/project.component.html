<div class="container login-form">

  <mat-accordion>
    <mat-expansion-panel>
      <mat-progress-bar *ngIf="loader" mode="indeterminate"></mat-progress-bar>

      <mat-expansion-panel-header>

        <mat-panel-title>
          Conversation
        </mat-panel-title>
      </mat-expansion-panel-header>

      <form class="container " [formGroup]="newIntentFrom">
        <!-- User Query input -->
        <div formArrayName="userQuery">
          <h4>Training pharse</h4>
          <div class="row" *ngFor="let query of userQueryForms.controls; let i = index" [formGroupName]="i">
            <mat-form-field class="col-11">
              <input matInput formControlName="queryText" />

            </mat-form-field>
            <button mat-icon-button class="col-1" color="warn" (click)="deleteQuery(i)">
              <mat-icon>delete</mat-icon>
            </button>





          </div>
          <button mat-icon-button color="primary" (click)="addQuery()">
            <mat-icon>plus</mat-icon>
          </button>
        </div>

        <!-- Response to user Qurey -->
        <div formArrayName="response">
          <h4>Response Text</h4>
          <div *ngFor="let res of resForms.controls; let i = index" [formGroupName]="i">
            <mat-form-field class="full-width">
              <input matInput formControlName="responseText" />
            </mat-form-field>

            <button mat-raised-button color="danger" (click)="deleteRes(i)">
              Delete
            </button>
          </div>
          <button mat-raised-button color="primary" (click)="addRes()">
            Add Response
          </button>
        </div>

        <button mat-raised-button color="primary" (click)="submit()">
          <mat-icon>home</mat-icon>
        </button>
      </form>


    </mat-expansion-panel>
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Self aware panel
        </mat-panel-title>
        <mat-panel-description>
          Currently I am {{panelOpenState ? 'open' : 'closed'}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>I'm visible because I am open</p>
    </mat-expansion-panel>
  </mat-accordion>

</div>
